## Лекция по теме "Жизненный цикл ПО"

Алексей
Метляков
1Алексей Метляков
DevOps Engineer
OpenWay
Алексей Метляков

### 2План занятия
1. Что такое жизненный цикл ПО?
2. Waterfall
3. Agile и Lean
4. Итоги
5. Домашнее задание

### 3Что такое жизненный цикл ПО?
### 4Что такое жизненный цикл ПО?
Жизненный цикл ПО – ряд событий (этапов), происходящих с
системой от ее создания до дальнейшего использования и изъятия
из эксплуатации.
Для чего нужно знать жизненный цикл ПО?
- для понимания общей картины развития продукта
- для определения стратегических и тактических целей команды
- для лучшего управления продуктом
- для обеспечения согласования требований заказчика

### 5Что такое жизненный цикл ПО?   00:17:35
Жизненный цикл ПО состоит из следующих этапов:
- разработка;
- тестирование;
- внедрение;
- сопровождение.

### 6Что такое жизненный цикл ПО?     00:18:10
Разработка состоит из следующих этапов:
- составление требований;
- проектирование; - выполняют архитекторы и системные или бизнес-аналитики которые составляют схемы инфообмена, обмена логикой внутри ПО
- дизайн;
- разработка.

### 7Что такое жизненный цикл ПО?     00:20:20
Тестирование состоит из следующих этапов:
- **функциональное тестирование**;  юнит-тестирование. для какой-нибудь функции или класса. Если результат приходит правильный - тест прошел. В молекуле это Ассерты.
Микросервисы друг с другом общаются и выдают правильное и ожидаемое
- **Статическое тестирование** - На потенциальные угрозы, ни линты
- **интеграционное тестирование** - с внешними потребителями (в/из разных БД), правильность обработки с другими подсистемами. С другими вендорами 
или заглушками (имитация). Этим занимаются отдельные люди - тестировщики QA.
- **нагрузочное тестирование** - позволяет определить насколько наш продукт способен выдержать нагрузку. Стресс-тестирование для большого трафика или пользователей. 
Пиковые нагрузки, плавные нагрузки, по Гауссу нагрузки. Чтоб ызнать сколько нагрузки наша система сожет обработать, сколько по времени она может держать нагрузку.
Не упираемся ли мы в пределы возможностей железа или ПО. Тогда его дорабатывают или делают совсем нове ПО. Или добавляют ресурсов на нагрузочном стенде. 
Чтобы понимать сколько нам нужно ресурсов. 
- **показ** - это финальный этап перед тем как выкладывать на прод. Можно ли этот релиз пропускать или нельзя. На показ приглашаются бизнес. Там же присутствуют безопасники,
Ops, если все ОК, то можно внедрять ПО
- **and-to-and** тестирование. Продукт выкладывают на тестовом стенде и на него направляют автомат или пользователя для проведения разных тестов.

### 8Что такое жизненный цикл ПО?     00:35:15
Внедрение состоит из следующих этапов:
- **выделение инфраструктуры** - подготовка железа, облаков, серверов
- **настройка рабочего окружения** - чтобы на этом железе все работало, но без самого разрабабываемого ПО. Здесь применяется **Ansible**
- **внедрение продукта**;- Здесь применяется **Ansible**. Для установки ПО на подготовленную инфраструктуру.
- **тестирование работоспособности**. - реальное тестирование рабочей нагрузкой.

### 9Что такое жизненный цикл ПО?     00:38:00
**Сопровождение** состоит из следующих этапов:
- **мониторинг работоспособности приложения**; - на важно на каких системах мониторинга. Рисовать графики. Утилизация железа. Утилизация ПО. Утилизация ОС. Сколько запросов отправлено, получено. 
Учет бизнес-метрик. Оперций от клиентов, ответов им, разбивка по типам операций. 
- **работа с инцидентами** - Проявление узких мест - отклонение от нормы - появление инцидентов. Управление микросервисами, что там в логах, что можно сделать. Анализ наших действий.
Нужно ли добавить метрики для лучшего видения вещей и причин инцидентов. Потом возврат на доработку ПО для исключения ошибок в будущем. Если упираемся в ядро ОС, то анализируется. 
Выполняется пост-мортем post-mortem. Работа над появление причин инцидентов и предотвращение того, чтобы эти инциденты не появлялись. 
Мы придумываем также разные ситуации когда что-то пойдет не так и придумываем как из этих ситуаций выходить.
Просчет рисков и как их обойти. Георезирвирование, балансировка между разными ЦОД, разными стойками и разными серверами

- **вывод из эксплуатации** - при устаревани ПО. Продумывают новое ПО. Ввод в эксплуатацию на части клиентов нового ПО перед удалением старого ПО. Использование пилотных групп клиентов.
Потом всех переводят на новое ПО, удаляют старую инфраструктуру.

### 10Что такое жизненный цикл ПО?      00:50:55
Жизненный цикл ПО состоит из следующих этапов:

| Разработка             | Тестирование                 | Внедрение                      | Сопровождение                 |
| :---------------------:| :---------------------------:|:------------------------------:|:-----------------------------:|
| Составление требований | Функциональное тестирование  | Выделение инфраструктуры       | Мониторинг работоспособности  |
| Проектирование         | Интеграционное тестирование  | Настройка рабочего окружения   | Работа с инцидентами          |
| Дизайн                 | Нагрузочное тестирование     | Внедрение продукта             | Вывод из эксплуатации         |     
| Разработка             | Показ                        | Тестирование работоспособности |                               | 

 
### 11Waterfall     00:51:50
### 12Waterfall - организация жизненных циклов.
Waterfall – последовательная методология разработки и
тестирования ПО. Концепция заключается в последовательном
выполнении всех шагов для получения конечного продукта.
Это водопадная модель.

Все этапы проходят последовательно. Готовится прототип, дизайн, дработка до полного состояния, последовательное тестирование,
потом опять доработка, тестирование, внедрилось, если что то опять идет на доработку. После внедрения считается, что доработок уже не будет. Продукт внедрился, а потом его только на свалку.
На этапах стрится дкументация и схемы взаимодействия, только потом ПО будет разрабатываться. Мы должны понимать где наше ПО находится - на тесте или разработке. 
Мы прошил тесты функциональные и на нагрузке возможно завалились, идет возврат на доработку и снова на тестирование. Т.е. такая модель дает последовательный возврат к началу после появления в этом необходимости. Например, как мы пишем скрипты.

К плюсам можно отнести:
- стабильность и предсказуемость результата;
- простота отслеживания текущего состояния разработки;
- полноценная документация.
Минусы:
- медленная разработка;
- выявление ошибок разработки на поздних этапах.

### 13Waterfall     00:55:55
Спиральная модель –
последовательная методология
разработки и тестирования ПО.
Концепция заключается в
последовательном выполнении
шагов, которые разделены на
несколько этапов.
К плюсам добавляется
возможность отслеживать
промежуточный результат
разработки в момент завершения
очередного витка итерации.

|начало разработки | | | | |
|--------------|-------|-------|------|-------|
|1 этап | Шаг1 | Шаг 2 | Шаг 3 | Шаг4 | Шаг 5 |
|2 этап | Шаг1 | Шаг 2 | Шаг 3 | Шаг4 | Шаг 5 |
|3 этап | Шаг1 | Шаг 2 | Шаг 3 | Шаг4 | Шаг 5 |
|4 этап | Шаг1 | Шаг 2 | Шаг 3 | Шаг4 | Шаг 5 |
| | | | |конец разработки|

### 14Waterfall
**Инкрементная модель** – последовательная методология
разработки и тестирования ПО. 
Основная концепция waterfall дополняется **версионированием**. Иными словами, у вас появляется
возможность создавать релизы (минорные и мажорные) и патчи на
баги.
* В релизах есит план на ихсоздание
* Внеплановые релизы всегдв приносят доп. трудности

Из жтого всего вытекает две методологии: **Agile и Lean**

### 15Agile и Lean

### 16Agile   01:04:44
Agile – набор из 12 принципов гибкой разработки ПО:
- Приоритет команды в удовлетворении заказчика;
- Приветствуется постоянное изменение требований;
- Рабочий продукт следует выпускать как можно чаще;
- На протяжении всего проекта команда должна работать вместе;
- Над проектом должны работать мотивированные профессионалы;
- Непосредственное общение;
- Работающий продукт - показатель прогресса;
- Вся команда должна иметь возможность поддерживать постоянный рабочий ритм;
- Постоянное внимание к совершенству и качеству повышает гибкость;
- Простота необходима;
- Самые лучшие требования рождаются у самоорганизующихся команд;
- Команда должна систематически анализировать возможности улучшения эффективности работы и корректировать свой стиль.

### 17Agile   01:25:45
На «бумаге» Agile выглядит как решение всех проблем:
- гибкость жизненного цикла ПО;
- лёгкость в принятии изменений;
- уменьшение бюрократического процесса в разработке;
- быстрота доставки новых версий ПО;
- улучшение качества кода без потерь в наращивании функционала.

### 18Agile   01:28:45
В жизни с Agile часто возникают проблемы:
- документация не успевает за кодовой базой проекта;
- повышается сложность сопровождения продукта;
- количество задач на разработку постоянно растёт;
- большинство разработчиков занимаются просмотром PR;
- в маленьких командах на разработчиков ставят задачи тестирования;
- времени на создание окружения автотестирования не хватает;
- в рамках agile у продукта гибкость требований влечёт за собой гибкость окружения;

### 19Lean   01:42:12
Исторически, бережливое производство пришло из
промышленности. Первая компания – toyota.
Постулаты:
- устранение отходов;
- расширение прав и возможностей работников;
- уменьшение запасов;
- повышение производительности.
Фактически они стремились заключать контракты и собирать ровно
столько машин, сколько у них заказали, не создавая сверх меры.

### 20Lean   01:51:42
Lean – принцип разработки, основанный на бережливом
производстве, смысл которой в устранении помех производству.
Устранение происходит в два этапа:
- Анализ (Проводится анализ всех процессов в алгоритме работы
команды, определяются уязвимости, траты ресурсов и времени,
«бутылочные горлышки»);
- Внесение изменений (Предлагается альтернатива процессам
алгоритма. Альтернатива не обязательно должна быть
инновационной, он должна просто улучшить конечный
результат. Все альтернативы считаются возможными и
исследуются на практике. На основе практического подхода
выбирается, какая из альтернатив лучшая, и используются в
постоянном алгоритме разработки).

### 21Lean   01:55:05
Муда, мура, мури – три концепции управления «отходами» разработки.
Муда – отходы, иными словами, последствия ошибок. 
Примеры:
- бесполезные данные, которые отправляются из приложения в БД;
- несоответствие ТЗ;
- безразличие к рабочему процессу;
- непрошенная самодеятельность в готовом проекте;
- накопленные запросы без движения.

### 22Lean   01:57:33
Мура – причины появления муда (мусора). Например, неравномерная по времени нагрузка на команду.
Мури – необоснованные сложности в работе (нецелесообразность).
Примеры:
- разработчик занимается тестированием;
- у команды нет необходимых инструментов для разработки;
- плохо поставленные задачи в ТЗ;
- для выполнения задачи требуется сделать множество звонков и
согласований.
Основной смысл Lean – убрать все три категории, при этом нужно
бороться с причиной, а не следствием.

### 23Lean   01:59:45
Основные принципы **Lean**:
- ликвидировать мусор;
- создавать только то, что нужно;
- все задачи должны исходить из желаний потребителя;
- сделать правильно с первого раза;
- расширять возможности команды;
- создать культуру постоянного совершенствования.

### 24Lean   02:01:40
Кайдзен – (кай – изменения, дзен – хорошо) метод, позволяющий
команде непрерывно предлагать и тестировать идеи по улучшению
своей работы, работы всей команды и программного продукта.
Пять характеристик кайдзен:
- равноправное взаимодействие всех участников команд и
прямая коммуникация между ними;
- индивидуальная дисциплина;
- здоровое моральное состояние всей команды и каждого
участника;
- кружки качества;
- предложения по улучшению всего в рамках работы.

### 25Гибкие методологии   02:04:00
### 26Глоссарий   02:04:40
- **Product Manager** - тот, кто владеет продуктом;
- **Project Manager** - тот, кто управляет кастомизацией продукта для одного клиента;
- **Team Lead** - программист, занимающийся управлением командой;
- **QA** - тестировщик;
- **Front** - разработчик интерфейсов;
- **Back** - разработчик «подкапотного» кода продукта
- **Ops** - сопровождение продукта
- **Delivery** - тот, кто отвечает за доставку продукта до клиентов

- 02:11:30 - о терминах **Jira**:
- **Epic** - верхнеуровневое описание какой-то общей цели
- **Stories** - описание результата, который хочется достичь
- **Bug** - найденное отклонение от ожидаемого поведения продукта
- **Task** - задача на изменение продукта
- **Feature** - задача на разработку нового функционала продукта

- **Workﬂow** - движение задач разных видов по статусам
- **Backlog** - общий пул задач. Здесь задачи висят без движения

### 27Kanban   02:14:20

### 28Kanban
**Kanban** – один из способов управления потоком работы.
Концептуально он разделяет все задачи по столбцам статусов, в
рамках которых команда понимает, какие задачи сейчас:
- находятся в разработке;
- нужно выполнить в ближайшее время;
- уже сделаны;
- невозможно выполнить.

### 29Kanban   02:16:55
- 02:16:55 - Показ примеров для ДЗ
- 02:21:00 - Создание нового проекта Kanban. Кнопка Create project -> Use template -> Expert configuration -> Name -> Create project. получили kanban board
- 02:21:56 - получили kanban board. 

| Backlog 0 | Select for Development 0 | In progress 0 | Done 0 |
|-----------|--------------------------|---------------|--------|
| Задачи без движения | Задачи на разработку | Задачи в разработке | Выполнены |

- 02:22:20 -  Создание нового проекта. Кнопка Create project. Create isue. Issue type -> Task.  Заполняем поля. -> Create. Появлется первая задача в Backlog
- 02:23:06 - Появлется первая задача в Backlog
- 02:24:50 - Create Epic
- 02:25:15 - Create issue in Epic -> Task -> Добавить описание
- 02:28:25 - Board Setting. Показана установка ограничения на макс. кол-во задач в статусе
- 02:31:00 - Создание Bug
- 02:31:30 - редактирование WorkFlow. Button "Project Settings" -> WorkFlow. Видим разные Issue Task. Не жмем на Кнопку "Карандаш", а заходим в создание нового WorkFlow
- 02:32:40 - зайти в Issue. Там в WorkFlow -> Buton "New WorkFlow". Новые WorkFlow создаются не на отдельный проект на всю Jira
- 02:39:04 - привязка WorkFlow к каким-то типам задач неважно какого проекта происходит через WorkFlow схемы. Зайтив Issue -> WorkFlow -> нажать Add WorkFlow схемы -> добавить Name
- 02:39:42 - после создания отредактировать. Нажать "Add WorkFlow" -> "Add existing". Откроется окно "Add Existing WorkFlow". Там в списке найти свой новый созданный WorkFlow. Затем нажать Next. Из списка Tasks выбрать Bug.
- 02:40:50 - в списке Issue, WorkFlow Schems увидеть сови схемы
- 02:41:00 - вернуться в свой Project. Нажать Project Settings -> WorkFlows -> Switch Schems. Затем в выпадающем меню Schems выбрать нашу схему, которую мы сделали. Нажимаем Associate и выставляем статусы типов задач Task и Bug. Здесь можно перепривязать к текущим задачам их статусы. Затем нажимаем Associate. Начнется процесс Migrate. После окончания нажать Aknowledge.
- 02:42:30 - возвращаемся в наш проект. Распределяем статусы задач по колонкам Kibana. Примапили все статусы.
- 02:43:42 - возвращаемся в Борду. Теперь видим все наши задачи на своих колонках появились. Демонстрация как работает WorkFlow. Как задачи можно перетаскивать по разным колонкам Канбан и они заходят только по тем колонкам, которые мы разрешили в WorkFlow.
- 02:44:35 - как это все выглядит с точки зрения статусовю После перевода задачи в статус Done обратной дороги для нее не будет.
- 02:46:07 - что происходит в рамках Релизной политики. Постепенно все задачи переходят в статус Done. Все, что к моменту создания Релиза попадет в Done, то и будет там, в Релизе и полетит на Прод. Так что нужно успеть перевести задачи в Done чтобы они попали в Релиз. Или может быть так, что пока какая-то задача не выполнится, Релиз не сможет выйти. Задачи также могут блокировать одна другую. За этим надо следить.
 
- 02:47:55
При использовании Kanban могут возникнуть трудности:
- неявный переход между статусами;
- неуправляемый поток задач;
- централизованное управление;
- неясный план;
- пренебрежение качеством.

### 30Scrum   2:52:52

### 31Scrum
**Scrum** – ещё один способ управления рабочим процессом команды. 
В рамках данной идеологии, все задачи выполняются в рамках **sprint**.
**Sprint** – промежуток времени, за который команда гарантирует
выполнение определенного набора задач. Обычно sprint
завершается создание релиза продукта.
- задачи для sprint выбираются командой на планировании;
- задачи выбираются исходя из сложности;
- сложность вычисляется опытным путем;
- первое завершение sprint у новой команды обычно не соответствует ожиданиям.

### 32Scrum
При использовании scrum тоже могут возникнуть трудности:
- происходит накопление задач в backlog;
- задачи переносится из одного sprint в следующий и не выполняются;
- график выгорания задач стремится к нулю.

### 33Итоги

### 34Итоги
Сегодня мы узнали, что:
- Жизненный цикл ПО – перечисление этапов проектирования,
разработки, тестирования, сопровождения ПО до процесса
вывода из эксплуатации;
- существует несколько принципов разработки ПО: Watefall, Agile, Lean;
- на основе принципов Agile и Lean созданы методы ведения разработки и сопровождения:
  - Kanban;
  - Scrum.

### 35Домашнее задание
Давайте посмотрим ваше домашнее задание.
- Вопросы по домашней работе задавайте в чате мессенджера Slack.
- Задачи можно сдавать по частям.
- Зачёт по домашней работе проставляется после того, как приняты все задачи.

### 36Задавайте вопросы и
пишите отзыв о лекции!
Алексей Метляков
Алексей Метляков
