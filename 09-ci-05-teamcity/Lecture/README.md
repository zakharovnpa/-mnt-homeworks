### Лекция по теме "TeamCity"

TeamCity
Алексей
Метляков

### 1Алексей Метляков
DevOps Engineer
OpenWay
Алексей Метляков

### 2План занятия
1. TeamCity
2. Сущности TeamCity
3. Дополнения
4. Итоги
5. Домашнее задание

### 3TeamCity

### 4Что такое TeamCity?
TeamCity – ППО для управления CI\CD процессами.
- Существует в следующих исполнениях:
 - Professional – бесплатная версия с запуском до 3-х агентов и 100 конфигураций сборок;
  - Build Agent License – добавляет +1 агент и
+10 сборок к Proffesional;
  - Enterprise – набор платных лицензий с разными пакетами агентов и сборок;
  - Программа поддержки [OpenSource](https://www.jetbrains.com/ru-ru/community/opensource/#support).
- Использует встроенный синтаксис Kotlin DSL.

### 5Что такое TeamCity?
Некоторые основные возможности системы:
- создание конвейера автоматизации;
- создание и управление пользователями;
- синхронизация с AD;
- ограничение прав пользователей на разных вложенностях сущностей;
- установка плагинов;
- настройка Custom Tool;
- использование динамических и статических окружений.

### 6Архитектура TeamCity
User
Main host
Static
slave
HTTP
Static
slave
Bidirectional
Master
Static
slave
Static
slave
Docker
Undirectional
Static
slave
Dynamic
slave
Cloud 2
Dynamic
slave

### 7Сущности TeamCity

### 8Project
Project – сущность, в которой хранятся subproject, conﬁguration
и\или VCS roots.

### 9Build Conﬁguration
Build conﬁguration – автоматизация, описание рутины, которую
необходимо сделать.

### 10Build Conﬁguration Template
Build Conﬁguration Template – шаблонизация Build Conﬁguration.
Шаблон может быть использован в том виде, в котором создан,
а может быть переопределён.
При этом:
- остальные наследники родительского проекта будут использовать первоначальную версию;
- потомки текущего проекта – перезаписанную.

### 11Kotlin DSL
Kotlin DSL – способ описания Build Conﬁguration при помощи языка
программирования.
Конфигурация может быть:
- выгружена в Kotlin DSL,
- сохранена в репозитории.

### 12Administration
Основные возможности администрирования:
- Проверка используемого места на диске мастера;
- Просмотр истории изменений конфигураций;
- Создание пользователей и групп для них;
- Подключение дополнительных модулей аутентификации;
- Управление версией TeamCity;
- Создание вторичных нод для мастера;
- Получение диагностической информации;
- Создание backup;
- Управление plugin.

### 13Дополнения

### 14Experimental UI
Experimental UI – попытка разработчиков Teamcity сделать
интерфейс более удобным.
Добавили новые графические элементы, улучшили просмотр
статистики и другое.

### 15Ansible Runner
Ansible Runner – добавляет возможность запускать ansible через
синтаксис Kotlin DSL.
Фактически избавляет от необходимости вызова оболочки для
вызова плейбука.
Пример синтаксиса можно посмотреть на официальной странице
плагина

### 16Итоги

### 17Итоги
- TeamCity – тесно интегрированный с экосистемой JetBrains
оркестровщик CI\CD
- Позволяет создавать шаблоны конфигурации для групп
проектов
- Имеет возможность версионирования конфигураций
- При необходимости шаблоны можно переписывать для
конкретных проектов
- Инструмент обладает гибкостью в настройке
- Бесплатная версия имеет ограничение по количеству агентов и
конфигураций

### 18Домашнее задание
Давайте посмотрим ваше домашнее задание.
- Вопросы по домашней работе задавайте в чате мессенджера
Slack.
- Задачи можно сдавать по частям.
- Зачёт по домашней работе проставляется после того, как приняты все задачи.

### 19Задавайте вопросы и
пишите отзыв о лекции!
Алексей Метляков
Алексей Метляков
